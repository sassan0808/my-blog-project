import { writeBlog, blogTemplates } from '../lib/vibe-blog'

/**
 * バイブコーディングでブログを作成するデモスクリプト
 * 使用例: npm run vibe-blog
 */
async function main() {
  console.log('🌟 バイブコーディングブログ作成デモ開始!')
  console.log('=====================================\n')

  try {
    // デモ記事1: システム設計について
    console.log('📝 記事1: システム設計の全体最適化について')
    const post1 = await writeBlog({
      title: '全体最適なシステム設計で変わる開発効率：バイブコーディングの実践',
      content: `開発における「全体最適」と「局所最適」の違いを実体験で学びました。

## 局所最適の罠

最初は目の前の問題だけを解決していました：
- エラーが出たら応急処置
- 機能追加時に既存コードをコピペ
- テストは後回し

これらは短期的には楽ですが、長期的には技術的負債を蓄積させます。

## 全体最適への転換

バイブコーディングを通じて、システム全体を俯瞰する視点を得ました：

### 1. 根本原因への対処
- データ品質は源流で保証
- バリデーションはスキーマレベルで実装
- 一貫性のあるAPI設計

### 2. 保守性の向上
- 統一されたインターフェース
- 型安全性の強化
- 再利用可能なコンポーネント

### 3. 開発者体験の最適化
- 直感的なAPI
- 包括的なエラーハンドリング
- 自動化されたワークフロー

## 実践例：ブログシステムの設計

当初は個別のスクリプトで対応していましたが、統一されたBlogManagerクラスを作成することで：

- 一貫した操作インターフェース
- 型安全性の保証
- エラーハンドリングの統一
- テストの容易性

## 結論

全体最適を意識したシステム設計により：
- 開発効率が向上
- バグが減少
- 機能追加が容易に
- チーム全体の生産性向上

バイブコーディングは単なるコード生成ツールではなく、システム思考を学ぶ最高の相棒です。`,
      categories: ['システム設計', 'AI活用'],
      author: '佐々木'
    })

    if (post1.success) {
      console.log(`✅ 記事1作成成功: ${post1.data?.slug.current}\n`)
    }

    // デモ記事2: テンプレートを使用
    console.log('📝 記事2: AIテンプレートを使用')
    const post2 = await blogTemplates.aiPost(
      'ChatGPTとClaude AIの比較検証',
      `2つの主要なAIアシスタントを実際に使い比べてみた結果をまとめます。

## 検証項目

1. **コード生成能力**
   - ChatGPT: 汎用的で安定した出力
   - Claude AI: より文脈を理解した詳細な実装

2. **日本語対応**
   - ChatGPT: 基本的な日本語は問題なし
   - Claude AI: より自然で丁寧な日本語

3. **ドキュメント理解**
   - ChatGPT: 大量のテキストの要約が得意
   - Claude AI: 文脈の理解とつながりの把握が優秀

4. **創造性**
   - ChatGPT: 幅広いアイデア生成
   - Claude AI: 実用的で実装可能な提案

## 結論

用途によって使い分けるのがベスト：
- プロトタイピング: ChatGPT
- 本格的な開発: Claude AI
- ブレインストーミング: 両方併用

両方を組み合わせることで、より高品質な開発が可能になります。`
    )

    if (post2.success) {
      console.log(`✅ 記事2作成成功: ${post2.data?.slug.current}\n`)
    }

    console.log('🎉 デモ完了!')
    console.log('ブログサイト (http://localhost:5173/blog) で確認できます。')

  } catch (error) {
    console.error('❌ デモ実行エラー:', error)
  }
}

// スクリプト実行
main()